<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<link href="blackjack/page.css" rel="stylesheet" type="text/css" />


<div id=blackjack>
   <div id=dealer>
        <h3 style="color: white">Dealer
            <div id=options>
                <button type="button" id="exit">Exit</button>
                <button type="button" id="deal">Deal!</button>
              </div></h3>
              <!-- <div style="float: right; padding-right: 15px;">
                    
                    
                    <form action="">
                        <input id="m" autocomplete="off" /><button>Send</button>
                        <ul id="messages"></ul>
                    </form>
                </div>
         -->
        <ul id=cards>
        </ul>
        <ul>
          <li id=score>
          </li>
          <li id=status>
          </li>
        </ul>
    </div>
    <div id=players>
    </div>
    <div id="chatContainer" >
        <div>
                <div class="row">
                    <div class="panel panel-default">
                      <div class="panel-heading" onclick="Global.toggleChat()">Chat</div>
                      <div class="panel-body">
                        <div id="messages" class="container">
                        </div>
                        <div id="chatInput" class="panel-footer">
                            <form action="">
                                <div class="input-group">
                                <input id="m" type="text" class="form-control">
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="submit">Send</button>
                                </span>
                            </form>
                            </div>
                        </div>
                      </div>
                    </div>
                </div>
            </div>
        <script>
            $(function () {
                var socket = io();
                $('form').submit(function () {
                    var msg = {
                        "name":Global.getPlayerName(),
                        "message" : $('#m').val()
                    }

                    socket.emit('chat message',JSON.stringify(msg));
                    $('#m').val('');
                    return false;
                });
                socket.on('chat message', function (response) {
                    var msg = JSON.parse(response);
                    //create div for message
                    var buble = document.createElement("div");
                    buble.classList.add("row");
                    buble.classList.add("message-bubble");

                    // create name
                    var header = document.createElement("p");
                    header.classList.add("text-muted");
                    header.innerText = msg.name;

                    // create text
                    var text = document.createElement("p");
                    text.innerText = msg.message;

                    // fuze header and text
                    buble.appendChild(header);
                    buble.appendChild(text);
                    // add message to chat
                    $('#messages').append(buble);
                });
            });
        </script>
        <!-- <ul id="messages"></ul> -->
        <!-- <form action="">
            <input id="m" autocomplete="off" /><button>Send</button>
        </form> -->
    </div>
</div>
 